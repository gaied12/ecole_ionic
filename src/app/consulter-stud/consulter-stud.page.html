<ion-header>
  <ion-toolbar>
    <ion-title>ELEVE</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item>
    <ion-label>Veuillez selectioner un niveau</ion-label>
    <ion-select [(ngModel)]="clasId"  >
      <ion-select-option *ngFor="let clas of class"   [value]="clas.id">

        {{clas.name}}

      </ion-select-option>
    </ion-select>
    <ion-button (click)="getStudents()">
      Valider
    </ion-button>
  </ion-item>
  <p class="error" *ngIf="this.error==true && this.clasId==null">choisir un niveau</p>

 
    <div class="table-responsive">
        <div class="table-title">
          <div class="row">
            </div>
        </div>
        <div *ngIf="this.level!=null" class="errors" [ngStyle]="{'color':  style(this.students.length),'text-align':'center'}">{{numStud(this.students.length) }} éléves inscrits en {{level?.name}} </div>

  <table *ngIf="this.students.length!=0 "class="table table-striped table-hover table-bordered"   >


  
    
    <tr *ngIf="this.students.length!=0" >
     
      <th>Matricule</th>
      <th>nom et prenom</th>
      <th>date de Naissance</th>
      <th>Sexe</th>
      <th>Parent</th>
      <th>Configuration Eleve
        </th>
      <th>Absence</th>
      <th>Retard</th>
      <th>Moyenne Génerale</th>

      



    
      
    </tr>

    <tr *ngFor="let stud of students" >
      <td >  {{stud.id}}</td> 
      <td >{{stud.firstName}} {{stud.lastName}}</td>
      <td >{{stud.dateBirth | date}}</td>
      <td >{{stud.sexe}}</td>
      <td  >{{stud?.user?.firstName}} {{stud?.user?.lastName}}</td>
      <td>
     <a routerLink='/consulter-stud'  class="delete"><i  (click)="del(stud.id)" class="fas fa-trash-alt"></i></a>
     <a [routerLink]="['/upd-stud',stud.id]"   class="edit"><i class="fas fa-user-edit"></i></a>
    </td>
     <td>
      <a [routerLink]="['/all-abs',stud.id]"  class="view"><i class="fas fa-info"></i></a>
      <a [routerLink]="['/add-abs',stud.id]"   class="add"><i class="fas fa-plus"></i></a>
     </td>
     <td></td>


    
      
  
    </tr>

  
  </table>
  </div>




</ion-content>
